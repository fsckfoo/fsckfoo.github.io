<!-- :3 -->
<!DOCTYPE html>
<html>
<head>
<title>fsck.foo</title>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="icon" type="image/x-icon" href="/favicon.ico">           
</head>
<body>

<script>
    // redirects the user to a random meme
    // shamelessly stolen and adapted from https://stackoverflow.com/questions/40456048/random-html-page-redirect

    // An array of URL's
    /*
    var url = [
        "/i/0.png",
        "/i/1.png",
        "/i/2.png",
        "/i/3.png",
        "/i/4.jpeg",
        "/i/8.jpg",
        "/i/9.jpg",
        "/i/10.webp"
    ];
    

    var num = Math.floor(Math.random() * url.length);


    
    window.location.assign(url[num]);
    

    var files = fs.readdirSync('/i/');
    document.write(files);
    

    var list = fetch("/l.txt");
    var url = [];
    url.push(list);
    document.write(url);
    */
    async function getImage() {
        var memes = [];
        const response = await fetch("/l.txt");
        const list = await response.text();
        const newline = /\r?\n/gm;
        var memes = list.split(newline);
        var memes = memes.map(i => '/i/' + i);
        memes.pop();
        document.write(memes);
    }
    getImage();

    
</script>

<noscript>
  <meta http-equiv="refresh" content="0;url=view-source:https://fsck.foo/index.html">
</noscript>
    
</body>
</html>

<!-- ;3 -->
